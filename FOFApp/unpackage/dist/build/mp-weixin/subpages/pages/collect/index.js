(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["subpages/pages/collect/index"],{"1c3c":function(t,e,n){"use strict";(function(t){var a=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("2eee")),o=a(n("448a")),c=a(n("c973")),r=n("40e9"),u={data:function(){return{paging:{page:1,size:10},total:0,options:[{text:"取消收藏",style:{backgroundColor:"#0e67a9"}}],collectList:[],loading:!1}},onLoad:function(){this.getList()},methods:{onReachBottom:function(){var e=this.paging,n=e.page,a=e.size;if(a*n>=this.total)return t.$showMsg("到底了！",1e3);this.loading||(this.paging.page+=1,this.getList())},goDetail:function(e){console.log(e),t.navigateTo({url:"/subpages/pages/productDetail/index?id=".concat(e.Product.ID)})},onPullDownRefresh:function(){this.resetPage(),this.paging.page=1,this.collectList=[],this.getList((function(){return t.stopPullDownRefresh()}))},getList:function(e){var n=this;return(0,c.default)(i.default.mark((function a(){var c,u;return i.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.showLoading({title:"数据加载中..."}),n.loading=!0,a.next=4,t.$http.post("user/mark/list",n.paging);case 4:if(c=a.sent,u=c.data,n.loading=!1,t.hideLoading(),e&&e(),!(0,r.isSuccess)(u.code)){a.next=14;break}n.total=u.data.total,n.collectList=[].concat((0,o.default)(n.collectList),(0,o.default)(u.data.extra||[])),a.next=15;break;case 14:return a.abrupt("return",t.$showMsg(u.message,1500));case 15:case"end":return a.stop()}}),a)})))()},onClick:function(e){var n=this;return(0,c.default)(i.default.mark((function a(){var o,c;return i.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.post("user/mark/del",{ProductId:e.Product.ID});case 2:if(o=a.sent,c=o.data,!(0,r.isSuccess)(c.code)){a.next=11;break}t.$showMsg("取消成功",1500),n.collectList=[],n.paging.page=1,n.getList(),a.next=12;break;case 11:return a.abrupt("return",t.$showMsg(c.message,1500));case 12:case"end":return a.stop()}}),a)})))()}}};e.default=u}).call(this,n("543d")["default"])},"34b4":function(t,e,n){"use strict";n.r(e);var a=n("8b30"),i=n("3957");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("d06f");var c=n("f0c5"),r=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,"37d5dd66",null,!1,a["a"],void 0);e["default"]=r.exports},3957:function(t,e,n){"use strict";n.r(e);var a=n("1c3c"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},"69cb":function(t,e,n){"use strict";(function(t,e){var a=n("4ea4");n("a117");a(n("66fd"));var i=a(n("34b4"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(i.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"8b30":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}));var a={uniSwipeAction:function(){return n.e("uni_modules/uni-swipe-action/components/uni-swipe-action/uni-swipe-action").then(n.bind(null,"6122"))},uniSwipeActionItem:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-swipe-action/components/uni-swipe-action-item/uni-swipe-action-item")]).then(n.bind(null,"e878"))},noData:function(){return n.e("components/no-data/no-data").then(n.bind(null,"93c7"))}},i=function(){var t=this,e=t.$createElement,n=(t._self._c,t.collectList.length);t._isMounted||(t.e0=function(e){var n=[],a=arguments.length-1;while(a-- >0)n[a]=arguments[a+1];var i=n[n.length-1].currentTarget.dataset,o=i.eventParams||i["event-params"];e=o.item;return t.onClick(e)}),t.$mp.data=Object.assign({},{$root:{g0:n}})},o=[]},b554:function(t,e,n){},d06f:function(t,e,n){"use strict";var a=n("b554"),i=n.n(a);i.a}},[["69cb","common/runtime","common/vendor"]]]);