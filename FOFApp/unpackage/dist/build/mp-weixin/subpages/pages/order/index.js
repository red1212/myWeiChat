(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["subpages/pages/order/index"],{"54a6":function(t,e,a){"use strict";a.r(e);var n=a("e820"),i=a("5afd");for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);a("d758");var s=a("f0c5"),o=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"6fbd649e",null,!1,n["a"],void 0);e["default"]=o.exports},"5afd":function(t,e,a){"use strict";a.r(e);var n=a("fa8e"),i=a.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=i.a},"69d6":function(t,e,a){"use strict";(function(t,e){var n=a("4ea4");a("a117");n(a("66fd"));var i=n(a("54a6"));t.__webpack_require_UNI_MP_PLUGIN__=a,e(i.default)}).call(this,a("bc2e")["default"],a("543d")["createPage"])},d758:function(t,e,a){"use strict";var n=a("f196"),i=a.n(n);i.a},e820:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return n}));var n={noData:function(){return a.e("components/no-data/no-data").then(a.bind(null,"93c7"))},myPopup:function(){return a.e("components/my-popup/my-popup").then(a.bind(null,"768b"))},myPay:function(){return Promise.all([a.e("common/vendor"),a.e("components/my-pay/my-pay")]).then(a.bind(null,"f85a"))}},i=function(){var t=this,e=t.$createElement,a=(t._self._c,t.__map(t.List,(function(e,a){var n=t.__get_orig(e),i=e.ProductInfo?t.dayjs(e.CreatTime).format("YYYY-MM-DD HH:mm:ss"):null;return{$orig:n,g0:i}}))),n=t.List.length;t.$mp.data=Object.assign({},{$root:{l0:a,g1:n}})},r=[]},f196:function(t,e,a){},fa8e:function(t,e,a){"use strict";(function(t){var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("2eee")),r=n(a("448a")),s=n(a("9523")),o=n(a("c973")),u=n(a("0f86")),c=a("40e9");function f(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?f(Object(a),!0).forEach((function(e){(0,s.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var p={data:function(){return{dayjs:u.default,orderStatus:c.orderStatus,isPayFn:c.isPayFn,loading:!1,typeActive:3,active:0,isPaying:[1,2,3],isPay:"",status:"",type:"statu",Orderno:"",typeList:[{name:"材料检测",key:3},{name:"预约检测",key:4}],tabList:[{name:"全部订单",key:"statu",val:0},{name:"未支付",key:"pay",val:0},{name:"已支付",key:"pay",val:1},{name:"检测中",key:"statu",val:1},{name:"检测完成",key:"statu",val:2},{name:"已完成",key:"statu",val:3}],List:[],paging:{page:1,size:10},total:0}},onLoad:function(){this.getOrderDeetail()},onReachBottom:function(){var e=this.paging,a=e.page,n=e.size;if(n*a>=this.total)return t.$showMsg("到底了！",1e3);this.loading||(this.paging.page+=1,this.getOrderDeetail(this.paramFn()))},onPullDownRefresh:function(){this.resetPage(),this.List=[],this.getOrderDeetail(this.paramFn(),(function(){return t.stopPullDownRefresh()}))},methods:{paramFn:function(){var t=this.status,e=this.isPay,a=this.type,n=this.isPaying,i={};return"pay"===a?i.isPay=e:(""!=t&&(i.status=t),n.includes(t)&&(i.isPay=1)),i},getOrderDeetail:function(){var e=arguments,a=this;return(0,o.default)(i.default.mark((function n(){var s,o,u,f,p,d,h,g,y;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=e.length>0&&void 0!==e[0]?e[0]:{},o=e.length>1?e[1]:void 0,t.showLoading({title:"数据加载中..."}),u=a.paging,f=u.page,p=u.size,d={page:f,size:p,extra:l({type:a.typeActive},s)},a.loading=!0,n.next=8,t.$http.post("user/order/list",d);case 8:if(h=n.sent,g=h.data,console.log("--df--"),a.loading=!1,t.hideLoading(),o&&o(),!(0,c.isSuccess)(g.code)){n.next=19;break}a.List=[].concat((0,r.default)(a.List),(0,r.default)((null===g||void 0===g?void 0:g.data.extra)||[])),a.total=(null===g||void 0===g||null===(y=g.data)||void 0===y?void 0:y.total)||0,n.next=20;break;case 19:return n.abrupt("return",t.$showMsg(g.message,1500));case 20:case"end":return n.stop()}}),n)})))()},tabChange:function(t,e){this.active!==e&&(this.active=e,this.resetPage(),this.List=[],this.type=t.key,"pay"===t.key?this.isPay=t.val:0==t.val?(this.isPay="",this.status=""):this.status=t.val,this.getOrderDeetail(this.paramFn()))},typeChange:function(t){this.typeActive!==t.key&&(this.typeActive=t.key,this.List=[],this.active=0,this.resetPage(),this.getOrderDeetail())},goDetail:function(e){t.navigateTo({url:"/subpages/pages/orderDetail/index?id=".concat(e.Orderno)})},clickResult:function(t,e){"open"===e?this.$refs.resultRef.$refs.popup.open():this.$refs.resultRef.$refs.popup.close()},clickPay:function(t,e){this.Orderno=t.Orderno,"open"===e?this.$refs.payRef.$refs.popup.open():this.$refs.payRef.$refs.popup.close()},comfirmPay:function(){this.$refs.payRef.$refs.popup.close(),this.List=[],this.resetPage(),this.getOrderDeetail(this.paramFn())},resetPage:function(){this.paging.page=1}}};e.default=p}).call(this,a("543d")["default"])}},[["69d6","common/runtime","common/vendor"]]]);