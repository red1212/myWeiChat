(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["subpages/pages/order/index"],{"371d":function(t,e,n){"use strict";(function(t){var a=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("2eee")),r=a(n("448a")),s=a(n("9523")),o=a(n("c973")),u=a(n("0e22")),c=n("afdd");function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){(0,s.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f={data:function(){return{dayjs:u.default,orderStatus:c.orderStatus,isPayFn:c.isPayFn,loading:!1,typeActive:3,active:0,isPaying:[1,2,3],isPay:"",status:"",type:"statu",Orderno:"",typeList:[{name:"材料检测",key:3},{name:"预约检测",key:4}],tabList:[{name:"全部订单",key:"statu",val:0},{name:"未支付",key:"pay",val:0},{name:"已支付",key:"pay",val:1},{name:"检测中",key:"statu",val:1},{name:"检测完成",key:"statu",val:2},{name:"已完成",key:"statu",val:3}],List:[],paging:{page:1,size:10},total:0}},onLoad:function(){this.getOrderDeetail()},onReachBottom:function(){var e=this.paging,n=e.page,a=e.size;if(a*n>=this.total)return t.$showMsg("到底了！",1e3);this.loading||(this.paging.page+=1,this.getOrderDeetail(this.paramFn()))},onPullDownRefresh:function(){this.resetPage(),this.List=[],this.getOrderDeetail(this.paramFn(),(function(){return t.stopPullDownRefresh()}))},methods:{paramFn:function(){var t=this.status,e=this.isPay,n=this.type,a=this.isPaying,i={};return"pay"===n?i.isPay=e:(""!=t&&(i.status=t),a.includes(t)&&(i.isPay=1)),i},getOrderDeetail:function(){var e=arguments,n=this;return(0,o.default)(i.default.mark((function a(){var s,o,u,l,f,d,h,g,y;return i.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=e.length>0&&void 0!==e[0]?e[0]:{},o=e.length>1?e[1]:void 0,t.showLoading({title:"数据加载中..."}),u=n.paging,l=u.page,f=u.size,d={page:l,size:f,extra:p({type:n.typeActive},s)},n.loading=!0,a.next=8,t.$http.post("user/order/list",d);case 8:if(h=a.sent,g=h.data,console.log("--df--"),n.loading=!1,t.hideLoading(),o&&o(),!(0,c.isSuccess)(g.code)){a.next=19;break}n.List=[].concat((0,r.default)(n.List),(0,r.default)((null===g||void 0===g?void 0:g.data.extra)||[])),n.total=(null===g||void 0===g||null===(y=g.data)||void 0===y?void 0:y.total)||0,a.next=20;break;case 19:return a.abrupt("return",t.$showMsg(g.message,1500));case 20:case"end":return a.stop()}}),a)})))()},tabChange:function(t,e){this.active!==e&&(this.active=e,this.resetPage(),this.List=[],this.type=t.key,"pay"===t.key?this.isPay=t.val:0==t.val?(this.isPay="",this.status=""):this.status=t.val,this.getOrderDeetail(this.paramFn()))},typeChange:function(t){this.typeActive!==t.key&&(this.typeActive=t.key,this.List=[],this.active=0,this.resetPage(),this.getOrderDeetail())},goDetail:function(e){t.navigateTo({url:"/subpages/pages/orderDetail/index?id=".concat(e.Orderno)})},clickResult:function(t,e){"open"===e?this.$refs.resultRef.$refs.popup.open():this.$refs.resultRef.$refs.popup.close()},clickPay:function(t,e){this.Orderno=t.Orderno,"open"===e?this.$refs.payRef.$refs.popup.open():this.$refs.payRef.$refs.popup.close()},comfirmPay:function(){this.$refs.payRef.$refs.popup.close(),this.List=[],this.resetPage(),this.getOrderDeetail(this.paramFn())},resetPage:function(){this.paging.page=1}}};e.default=f}).call(this,n("543d")["default"])},"4dc3":function(t,e,n){"use strict";var a=n("6682"),i=n.n(a);i.a},"58bb":function(t,e,n){"use strict";n.r(e);var a=n("371d"),i=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=i.a},6682:function(t,e,n){},"72d7":function(t,e,n){"use strict";n.r(e);var a=n("754d"),i=n("58bb");for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);n("4dc3");var s=n("f0c5"),o=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"6fbd649e",null,!1,a["a"],void 0);e["default"]=o.exports},"73b9":function(t,e,n){"use strict";(function(t,e){var a=n("4ea4");n("f200");a(n("66fd"));var i=a(n("72d7"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(i.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"754d":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return a}));var a={noData:function(){return n.e("components/no-data/no-data").then(n.bind(null,"1727"))},myPopup:function(){return n.e("components/my-popup/my-popup").then(n.bind(null,"9d0e"))},myPay:function(){return Promise.all([n.e("common/vendor"),n.e("components/my-pay/my-pay")]).then(n.bind(null,"3166"))}},i=function(){var t=this,e=t.$createElement,n=(t._self._c,t.__map(t.List,(function(e,n){var a=t.__get_orig(e),i=e.ProductInfo?t.dayjs(e.CreatTime).format("YYYY-MM-DD HH:mm:ss"):null;return{$orig:a,g0:i}}))),a=t.List.length;t.$mp.data=Object.assign({},{$root:{l0:n,g1:a}})},r=[]}},[["73b9","common/runtime","common/vendor"]]]);